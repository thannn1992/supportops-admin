{"version":3,"sources":["../src/field/input/TextInputField.tsx"],"names":["styled","TextField","alpha","FormHelperText","jsx","CheckCircleOutlineIcon","ErrorOutlineIcon","useController","useMemo","jsxs","Box","InputAdornment","forwardRef"],"mappings":"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","file":"index.cjs","sourcesContent":["'use client'\n\nimport type {ReactElement, Ref} from 'react'\nimport {forwardRef, useMemo} from 'react'\nimport type {FieldPath, FieldValues} from 'react-hook-form'\nimport {useController} from 'react-hook-form'\n\nimport Box from '@mui/material/Box'\nimport FormHelperText from '@mui/material/FormHelperText'\nimport InputAdornment from '@mui/material/InputAdornment'\nimport {alpha, styled} from '@mui/material/styles'\nimport TextField from '@mui/material/TextField'\n\n// Icons\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline'\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline'\n\nimport type {TextInputFieldProps, TextInputFieldStatus} from './TextInputField.types'\n\n// Styled TextField with custom states\nconst StyledTextField = styled(TextField, {\n  shouldForwardProp: prop => prop !== 'fieldStatus',\n})<{fieldStatus?: TextInputFieldStatus}>(({theme, fieldStatus}) => {\n  const baseRadius =\n    typeof theme.shape.borderRadius === 'number'\n      ? theme.shape.borderRadius\n      : Number.parseFloat(theme.shape.borderRadius) || 0\n\n  return {\n  '& .MuiOutlinedInput-root': {\n    borderRadius: baseRadius * 2,\n    backgroundColor: theme.palette.background.paper,\n    transition: theme.transitions.create(['border-color', 'background-color', 'box-shadow']),\n\n    '& fieldset': {\n      borderColor: theme.palette.divider,\n      transition: theme.transitions.create(['border-color']),\n    },\n\n    '&:hover fieldset': {\n      borderColor: theme.palette.primary.main,\n    },\n\n    '&.Mui-focused fieldset': {\n      borderColor: theme.palette.primary.main,\n      borderWidth: 2,\n    },\n\n    '&.Mui-disabled': {\n      backgroundColor: alpha(theme.palette.action.disabled, 0.05),\n      '& fieldset': {\n        borderColor: theme.palette.divider,\n      },\n    },\n\n    // Success state\n    ...(fieldStatus === 'success' && {\n      '& fieldset': {\n        borderColor: theme.palette.success.main,\n      },\n      '&:hover fieldset': {\n        borderColor: theme.palette.success.dark,\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: theme.palette.success.main,\n        borderWidth: 2,\n      },\n    }),\n\n    // Error state\n    ...(fieldStatus === 'error' && {\n      '& fieldset': {\n        borderColor: theme.palette.error.main,\n      },\n      '&:hover fieldset': {\n        borderColor: theme.palette.error.dark,\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: theme.palette.error.main,\n        borderWidth: 2,\n      },\n    }),\n  },\n\n  '& .MuiInputLabel-root': {\n    ...(fieldStatus === 'success' && {\n      color: theme.palette.success.main,\n      '&.Mui-focused': {\n        color: theme.palette.success.main,\n      },\n    }),\n    ...(fieldStatus === 'error' && {\n      color: theme.palette.error.main,\n      '&.Mui-focused': {\n        color: theme.palette.error.main,\n      },\n    }),\n  },\n\n  '& .MuiInputAdornment-root': {\n    color: theme.palette.text.secondary,\n    ...(fieldStatus === 'success' && {\n      color: theme.palette.success.main,\n    }),\n    ...(fieldStatus === 'error' && {\n      color: theme.palette.error.main,\n    }),\n  },\n}})\n\n// Helper text with status styling\nconst StyledHelperText = styled(FormHelperText, {\n  shouldForwardProp: prop => prop !== 'fieldStatus',\n})<{fieldStatus?: TextInputFieldStatus}>(({theme, fieldStatus}) => ({\n  marginLeft: 0,\n  marginTop: theme.spacing(0.5),\n\n  ...(fieldStatus === 'success' && {\n    color: theme.palette.success.main,\n    '& .helper-text-title': {\n      fontWeight: 600,\n      color: theme.palette.success.dark,\n    },\n  }),\n\n  ...(fieldStatus === 'error' && {\n    color: theme.palette.error.main,\n    '& .helper-text-title': {\n      fontWeight: 600,\n      color: theme.palette.error.dark,\n    },\n  }),\n}))\n\nfunction TextInputFieldInner<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>(props: TextInputFieldProps<TFieldValues, TName>, ref: Ref<HTMLInputElement>): ReactElement {\n  const {\n    name,\n    control,\n    rules,\n    label,\n    placeholder,\n    helperText,\n    successMessage,\n    startIcon,\n    endIcon,\n    status: externalStatus,\n    showSuccessState = false,\n    successIcon = <CheckCircleOutlineIcon fontSize=\"small\" />,\n    errorIcon = <ErrorOutlineIcon fontSize=\"small\" />,\n    hideEmptyHelperText = false,\n    disabled,\n    ...textFieldProps\n  } = props\n\n  const {\n    field,\n    fieldState: {error, isDirty, isTouched},\n  } = useController({\n    name,\n    control,\n    rules,\n  })\n\n  // Determine field status\n  const fieldStatus = useMemo<TextInputFieldStatus>(() => {\n    if (externalStatus) return externalStatus\n    if (error) return 'error'\n    if (showSuccessState && isTouched && isDirty && !error) return 'success'\n    return 'default'\n  }, [externalStatus, error, showSuccessState, isTouched, isDirty])\n\n  // Build helper text content\n  const helperTextContent = useMemo(() => {\n    if (fieldStatus === 'error' && error?.message) {\n      return (\n        <Box component=\"span\" sx={{display: 'flex', alignItems: 'center', gap: 0.5}}>\n          <span className=\"helper-text-title\">Oh snap!</span>\n          <span>{error.message}</span>\n        </Box>\n      )\n    }\n\n    if (fieldStatus === 'success' && successMessage) {\n      return (\n        <Box component=\"span\" sx={{display: 'flex', alignItems: 'center', gap: 0.5}}>\n          <span className=\"helper-text-title\">Well done!</span>\n          <span>{successMessage}</span>\n        </Box>\n      )\n    }\n\n    return helperText\n  }, [fieldStatus, error, successMessage, helperText])\n\n  // Build start adornment\n  const startAdornment = useMemo(() => {\n    if (!startIcon && fieldStatus === 'default') return undefined\n\n    const icon =\n      fieldStatus === 'success' ? successIcon : fieldStatus === 'error' ? errorIcon : startIcon\n\n    if (!icon) return undefined\n\n    return <InputAdornment position=\"start\">{icon}</InputAdornment>\n  }, [startIcon, fieldStatus, successIcon, errorIcon])\n\n  // Build end adornment\n  const endAdornment = useMemo(() => {\n    // Show status icon at end if no startIcon but has status\n    if (!startIcon && fieldStatus !== 'default') {\n      const statusIcon = fieldStatus === 'success' ? successIcon : errorIcon\n      return <InputAdornment position=\"end\">{statusIcon}</InputAdornment>\n    }\n\n    if (!endIcon) return undefined\n    return <InputAdornment position=\"end\">{endIcon}</InputAdornment>\n  }, [endIcon, startIcon, fieldStatus, successIcon, errorIcon])\n\n  // Show helper text area\n  const showHelperText = !hideEmptyHelperText || helperTextContent\n\n  return (\n    <Box sx={{width: '100%'}}>\n      <StyledTextField\n        {...textFieldProps}\n        {...field}\n        inputRef={ref}\n        fieldStatus={fieldStatus}\n        label={label}\n        placeholder={placeholder}\n        disabled={disabled}\n        error={fieldStatus === 'error'}\n        fullWidth\n        slotProps={{\n          input: {\n            startAdornment,\n            endAdornment,\n            ...textFieldProps.slotProps?.input,\n          },\n          inputLabel: {\n            shrink: true,\n            ...textFieldProps.slotProps?.inputLabel,\n          },\n          ...textFieldProps.slotProps,\n        }}\n      />\n\n      {showHelperText && (\n        <StyledHelperText fieldStatus={fieldStatus}>{helperTextContent}</StyledHelperText>\n      )}\n    </Box>\n  )\n}\n\n// Forward ref with generic support\nexport const TextInputField = forwardRef(TextInputFieldInner) as <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>(\n  props: TextInputFieldProps<TFieldValues, TName> & {\n    ref?: Ref<HTMLInputElement>\n  }\n) => ReactElement\n\nexport default TextInputField\n"]}